<ion-header>

  <ion-navbar>
    <ion-title>Login/Register</ion-title>
  </ion-navbar>

</ion-header>
<ion-content class="login-content" padding>
  <div class="login-box" *ngIf="currentSection=='login'">
    <form #registerForm="ngForm">
      <ion-row>
        <ion-col>
          <ion-list inset>
            <h2>Login</h2>
            <ion-item>
              <ion-input type="text" placeholder="Email" name="email" [(ngModel)]="registerCredentials.email" required maxlength="100"></ion-input>
            </ion-item>

            <ion-item>
              <ion-input type="password" placeholder="Password" name="password" [(ngModel)]="registerCredentials.password" required></ion-input>
            </ion-item>

          </ion-list>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col class="signup-col">
          <button ion-button class="submit-btn" full type="submit" [disabled]="!registerForm.form.valid" (click)="doLogin()">Login</button>

          <hr>
          <p>
            <a (click)="showSection('register')"> <i class="fa fa-fw fa-group"></i> Register</a>
            <a (click)="showSection('forgotPassword')"> <i class="fa fa-fw fa-group"></i> Forgot Password?</a><br/>
            <a (click)="showSection('confirmCode')"> <i class="fa fa-fw fa-group"></i> Confirm Confirmation Code</a><br/>
            <a (click)="showSection('resendCode')"> <i class="fa fa-fw fa-group"></i> Resend Confirmation Code</a><br/>
          </p>
        </ion-col>
      </ion-row>

    </form>
  </div>


  <div class="register-box" *ngIf="currentSection=='register'">
    <form (ngSubmit)="showSection('register')" #registerForm="ngForm">
      <ion-row>
        <ion-col>
          <ion-list inset>
            <h2>Register</h2>
            <ion-item>
              <ion-input type="text" placeholder="Email" name="email" [(ngModel)]="registerCredentials.email" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-input type="text" placeholder="Username" name="name" [(ngModel)]="registerCredentials.name" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-input type="password" placeholder="Password" name="password" [(ngModel)]="registerCredentials.password" required></ion-input>
            </ion-item>

          </ion-list>

          <ion-row>
            <ion-col class="signup-col">
              {{errorMsg}}
              <button ion-button class="submit-btn" full type="submit" [disabled]="!registerForm.form.valid" (click)="doRegister()">Register</button>
            </ion-col>
          </ion-row>

          <hr>
          <p>
            <a (click)="showSection('login')"> <i class="fa fa-fw fa-group"></i> Login</a>
            <a (click)="showSection('forgotPassword')"> <i class="fa fa-fw fa-group"></i> Forgot Password?</a><br/>
            <a (click)="showSection('confirmCode')"> <i class="fa fa-fw fa-group"></i> Confirm Confirmation Code</a><br/>
            <a (click)="showSection('resendCode')"> <i class="fa fa-fw fa-group"></i> Resend Confirmation Code</a>
          </p>
        </ion-col>
      </ion-row>



    </form>
  </div>

  <div class="confirm-box" *ngIf="currentSection=='confirmCode'">
    <form #registerForm="ngForm">
      <ion-row>
        <ion-col>
          <ion-list inset>
            <h2>Login</h2>
            <ion-item>
              <ion-input type="text" placeholder="Username" name="username" [(ngModel)]="registerCredentials.username" required maxlength="100"></ion-input>
            </ion-item>

            <ion-item>
              <ion-input type="text" placeholder="Confirmation Code" name="code" [(ngModel)]="registerCredentials.code" required></ion-input>
            </ion-item>

          </ion-list>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col class="signup-col center">
          <button ion-button class="submit-btn" full type="submit" [disabled]="!registerForm.form.valid" (click)="doConfirmCode()">Confirm my code</button>

          <hr>
          <p>
            <a (click)="showSection('login')"> <i class="fa fa-fw fa-group"></i> Login</a><br/>
            <a (click)="showSection('register')"> <i class="fa fa-fw fa-group"></i> Register</a>
            <a (click)="showSection('forgotPassword')"> <i class="fa fa-fw fa-group"></i> Forgot Password?</a><br/>
            <a (click)="showSection('resendCode')"> <i class="fa fa-fw fa-group"></i> Resend Confirmation Code</a>
          </p>
        </ion-col>
      </ion-row>

    </form>
  </div>

  <div class="confirm-box" *ngIf="currentSection=='forgotPassword'">
    <form #registerForm="ngForm">
      <ion-row>
        <ion-col>
          <ion-list inset>
            <h2>Forgot you password? </h2>
            <ion-item>
              <ion-input type="text" placeholder="Email" name="email" [(ngModel)]="registerCredentials.email" required maxlength="100"></ion-input>
            </ion-item>

            <ion-item>
              <ion-input type="password" placeholder="Password" name="password" [(ngModel)]="registerCredentials.password" required></ion-input>
            </ion-item>

          </ion-list>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col class="signup-col center">
          <button ion-button class="submit-btn" full type="submit" [disabled]="!registerForm.form.valid" (click)="doForgotPassword()">Login</button>

          <hr>
          <p>
            <a (click)="showSection('login')"> <i class="fa fa-fw fa-group"></i> Login</a><br/>
            <a (click)="showSection('register')"> <i class="fa fa-fw fa-group"></i> Register</a>
            <a (click)="showSection('confirmCode')"> <i class="fa fa-fw fa-group"></i> Confirm Confirmation Code</a><br/>
            <a (click)="showSection('resendCode')"> <i class="fa fa-fw fa-group"></i> Resend Confirmation Code</a>
          </p>
        </ion-col>
      </ion-row>

    </form>
  </div>

  <div class="resend-code" *ngIf="currentSection=='resendCode'">
    <form #registerForm="ngForm">
      <ion-row>
        <ion-col>
          <ion-list inset>
            <h2>Resend my code</h2>
            <ion-item>
              <ion-input type="text" placeholder="Email" name="email" [(ngModel)]="registerCredentials.email" required maxlength="100"></ion-input>
            </ion-item>

            <ion-item>
              <ion-input type="password" placeholder="Password" name="password" [(ngModel)]="registerCredentials.password" required></ion-input>
            </ion-item>

          </ion-list>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col class="signup-col center">
          <button ion-button class="submit-btn" full type="submit" [disabled]="!registerForm.form.valid" (click)="doResendCode()">Resend my confirmation code</button>

          <hr>
          <p>
            <a (click)="showSection('login')"> <i class="fa fa-fw fa-group"></i> Login</a>
            <a (click)="showSection('register')"> <i class="fa fa-fw fa-group"></i> Register</a>
            <a (click)="showSection('forgotPassword')"> <i class="fa fa-fw fa-group"></i> Forgot Password?</a><br/>
            <a (click)="showSection('confirmCode')"> <i class="fa fa-fw fa-group"></i> Confirm Confirmation Code</a><br/>
          </p>
        </ion-col>
      </ion-row>

    </form>
  </div>

</ion-content>
